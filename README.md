# Shiromi - Bot Ph√¢n T√≠ch S√¢u Server Discord ·ìö·òè·ó¢

<!-- Vietnamese -->
<details>
<summary>üáªüá≥ Ti·∫øng Vi·ªát</summary>

## Gi·ªõi thi·ªáu

**Shiromi** l√† m·ªôt bot Discord m·∫°nh m·∫Ω ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ th·ª±c hi·ªán qu√©t v√† ph√¢n t√≠ch s√¢u d·ªØ li·ªáu ho·∫°t ƒë·ªông c·ªßa m·ªôt server Discord. Bot thu th·∫≠p th√¥ng tin chi ti·∫øt v·ªÅ tin nh·∫Øn, ho·∫°t ƒë·ªông c·ªßa th√†nh vi√™n, vi·ªác s·ª≠ d·ª•ng emoji/sticker, vai tr√≤, k√™nh, lu·ªìng v√† nhi·ªÅu h∆°n n·ªØa. K·∫øt qu·∫£ ph√¢n t√≠ch ƒë∆∞·ª£c tr√¨nh b√†y d∆∞·ªõi d·∫°ng c√°c b√°o c√°o embeds tr·ª±c quan trong Discord, file xu·∫•t CSV/JSON, v√† b√°o c√°o DM c√° nh√¢n h√≥a cho th√†nh vi√™n.

Ngo√†i ra, Shiromi c√≥ kh·∫£ nƒÉng l∆∞u tr·ªØ d·ªØ li·ªáu qu√©t v√†o c∆° s·ªü d·ªØ li·ªáu PostgreSQL, cho ph√©p tra c·ª©u v√† hi·ªÉn th·ªã th√¥ng tin qua m·ªôt giao di·ªán web (n·∫øu ƒë∆∞·ª£c t√≠ch h·ª£p).

**C√°c ch·ª©c nƒÉng ch√≠nh:**

*   **Qu√©t To√†n Di·ªán:** Thu th·∫≠p d·ªØ li·ªáu t·ª´ t·∫•t c·∫£ c√°c k√™nh text, voice (chat), v√† lu·ªìng (bao g·ªìm c·∫£ lu·ªìng l∆∞u tr·ªØ n·∫øu c√≥ quy·ªÅn).
*   **Ph√¢n T√≠ch Ho·∫°t ƒê·ªông:** ƒê·∫øm tin nh·∫Øn, link, ·∫£nh, emoji, sticker, l∆∞·ª£t nh·∫Øc, tr·∫£ l·ªùi, reaction (ƒë√£ l·ªçc) c·ªßa t·ª´ng th√†nh vi√™n v√† to√†n server.
*   **Th·ªëng K√™ Ph·ª• Tr·ª£:** L·∫•y th√¥ng tin boosters, k√™nh voice/stage, invites, webhooks, integrations, th√†nh vi√™n l√¢u nƒÉm nh·∫•t, v√† ph√¢n t√≠ch audit log (v√≠ d·ª•: theo d√µi l∆∞·ª£t c·∫•p role, t·∫°o thread).
*   **B√°o C√°o ƒêa D·∫°ng:**
    *   **Embeds Discord:** Hi·ªÉn th·ªã c√°c b·∫£ng x·∫øp h·∫°ng v√† th·ªëng k√™ tr·ª±c ti·∫øp trong k√™nh Discord ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh.
    *   **Xu·∫•t File:** T·∫°o file CSV v√† JSON chi ti·∫øt cho c√°c m·ª•c d·ªØ li·ªáu kh√°c nhau. (ƒêang thi c√¥ng)
    *   **DM C√° Nh√¢n:** G·ª≠i b√°o c√°o t√≥m t·∫Øt ho·∫°t ƒë·ªông v√† th√†nh t√≠ch c√° nh√¢n cho t·ª´ng th√†nh vi√™n (d·ª±a tr√™n role c·∫•u h√¨nh ho·∫∑c cho admin ·ªü ch·∫ø ƒë·ªô test).
*   **L∆∞u Tr·ªØ Database:** L∆∞u k·∫øt qu·∫£ qu√©t v√† d·ªØ li·ªáu ng∆∞·ªùi d√πng v√†o PostgreSQL ƒë·ªÉ c√≥ th·ªÉ truy c·∫≠p qua web.
*   **Logging Chi Ti·∫øt:** Ghi log qu√° tr√¨nh qu√©t v√†o m·ªôt thread Discord ri√™ng bi·ªát ƒë·ªÉ d·ªÖ theo d√µi.
*   **T√πy Bi·∫øn Cao:** Nhi·ªÅu t√πy ch·ªçn c·∫•u h√¨nh qua file `.env` (v√≠ d·ª•: lo·∫°i tr·ª´ category, theo d√µi role c·ª• th·ªÉ, ID sticker/emoji, k√™nh b√°o c√°o).
*   **H·ªó Tr·ª£ Proxy Bot:** C√≥ th·ªÉ ho·∫°t ƒë·ªông nh∆∞ m·ªôt bot worker, nh·∫≠n l·ªánh t·ª´ m·ªôt bot proxy ch√≠nh (v√≠ d·ª•: Mizuki).

## T√≠nh nƒÉng

*   **Ph√¢n t√≠ch Server:**
    *   Th√¥ng tin chung server (owner, ng√†y t·∫°o, boost, s·ªë l∆∞·ª£ng k√™nh/role/emoji/sticker).
    *   Th·ªëng k√™ qu√©t (s·ªë k√™nh/lu·ªìng ƒë√£ x·ª≠ l√Ω, t·ªïng tin nh·∫Øn, t·ªïng reaction ƒë√£ l·ªçc, th·ªùi gian qu√©t).
    *   B·∫£ng x·∫øp h·∫°ng ho·∫°t ƒë·ªông k√™nh text v√† voice (chat).
    *   "Gi·ªù V√†ng" v√† "Gi·ªù √Çm" c·ªßa server v√† c√°c k√™nh/lu·ªìng.
    *   Top emoji/sticker ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu/√≠t nh·∫•t server.
    *   Emoji server kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng.
*   **Ph√¢n t√≠ch Th√†nh vi√™n:**
    *   B·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi d√πng ho·∫°t ƒë·ªông nhi·ªÅu/√≠t nh·∫•t (tin nh·∫Øn, link, ·∫£nh, emoji server, sticker, mention g·ª≠i/nh·∫≠n, tr·∫£ l·ªùi, reaction g·ª≠i/nh·∫≠n, s·ªë k√™nh ho·∫°t ƒë·ªông, th·ªùi gian ho·∫°t ƒë·ªông).
    *   B·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi m·ªùi nhi·ªÅu nh·∫•t (theo l∆∞·ª£t d√πng invite).
    *   B·∫£ng x·∫øp h·∫°ng booster "b·ªÅn b·ªâ" nh·∫•t.
    *   B·∫£ng x·∫øp h·∫°ng th√†nh vi√™n l√¢u nƒÉm nh·∫•t.
    *   B·∫£ng x·∫øp h·∫°ng ng∆∞·ªùi t·∫°o thread nhi·ªÅu/√≠t nh·∫•t.
    *   Theo d√µi v√† x·∫øp h·∫°ng l∆∞·ª£t nh·∫≠n c√°c role ƒë·∫∑c bi·ªát (t·ª´ Audit Log).
*   **T√¨m Ki·∫øm T·ª´ Kh√≥a:**
    *   T√¨m ki·∫øm c√°c t·ª´ kh√≥a c·ª• th·ªÉ trong tin nh·∫Øn.
    *   Th·ªëng k√™ t·ªïng s·ªë l·∫ßn xu·∫•t hi·ªán, top k√™nh/lu·ªìng v√† top user theo t·ª´ kh√≥a.
*   **Xu·∫•t D·ªØ Li·ªáu:** (ƒêang thi c√¥ng)
    *   File CSV chi ti·∫øt cho th√¥ng tin server, k√™nh/lu·ªìng, ho·∫°t ƒë·ªông ng∆∞·ªùi d√πng, roles, boosters, invites, webhooks, integrations, audit logs, v√† c√°c b·∫£ng x·∫øp h·∫°ng.
    *   File JSON t·ªïng h·ª£p to√†n b·ªô d·ªØ li·ªáu qu√©t.
*   **B√°o C√°o DM C√° Nh√¢n:**
    *   T√≥m t·∫Øt ho·∫°t ƒë·ªông c√° nh√¢n (tin nh·∫Øn, n·ªôi dung g·ª≠i, t∆∞∆°ng t√°c, th·ªùi gian ho·∫°t ƒë·ªông, ph·∫°m vi ho·∫°t ƒë·ªông).
    *   Top items c√° nh√¢n (emoji, sticker).
    *   "Gi·ªù V√†ng" c√° nh√¢n.
    *   Th√†nh t√≠ch v√† v·ªã tr√≠ trong c√°c b·∫£ng x·∫øp h·∫°ng c·ªßa server.
    *   L·ªùi c·∫£m ∆°n v√† ·∫£nh c√° nh√¢n h√≥a cho c√°c role ƒë·∫∑c bi·ªát (booster, ng∆∞·ªùi ƒë√≥ng g√≥p).
*   **K·ªπ thu·∫≠t:**
    *   S·ª≠ d·ª•ng `asyncio` v√† `asyncpg` cho c√°c ho·∫°t ƒë·ªông b·∫•t ƒë·ªìng b·ªô v√† t∆∞∆°ng t√°c database hi·ªáu qu·∫£.
    *   Logging chi ti·∫øt l√™n console (s·ª≠ d·ª•ng `rich`) v√† thread Discord.
    *   C·∫•u h√¨nh intents Discord linh ho·∫°t.
    *   Qu·∫£n l√Ω l·ªói v√† cooldown cho l·ªánh.
    *   H·ªó tr·ª£ PROXY_BOT_ID ƒë·ªÉ nh·∫≠n l·ªánh t·ª´ bot kh√°c.

## ƒêi·ªÅu ki·ªán ti√™n quy·∫øt

1.  **Python:** Phi√™n b·∫£n 3.8 tr·ªü l√™n.
2.  **Git:** ƒê·ªÉ t·∫£i m√£ ngu·ªìn.
3.  **PostgreSQL Server:** M·ªôt instance PostgreSQL ƒëang ch·∫°y v√† c√≥ th·ªÉ truy c·∫≠p.
4.  (T√πy ch·ªçn) M·ªôt bot Discord kh√°c ƒë·ªÉ l√†m PROXY_BOT_ID n·∫øu b·∫°n mu·ªën s·ª≠ d·ª•ng t√≠nh nƒÉng n√†y.

## C√†i ƒë·∫∑t

1.  **T·∫£i m√£ ngu·ªìn:**
    ```bash
    git clone https://github.com/Rin1809/Shiromi
    cd Shiromi
    ```

2.  **T·∫°o m√¥i tr∆∞·ªùng ·∫£o (khuy·∫øn ngh·ªã):**
    ```bash
    python -m venv venv
    # Windows
    venv\Scripts\activate
    # Linux/macOS
    source venv/bin/activate
    ```

3.  **C√†i ƒë·∫∑t th∆∞ vi·ªán:**
    ```bash
    pip install -r requirements.txt
    ```

## C·∫•u h√¨nh

1.  **Sao ch√©p file `.env_example.md` th√†nh `.env`:**
    ```bash
    # Windows
    copy .env_example.md .env
    # Linux/macOS
    cp .env_example.md .env
    ```

2.  **Ch·ªânh s·ª≠a file `.env` v·ªõi c√°c th√¥ng tin c·ªßa b·∫°n:**
    *   `DISCORD_TOKEN`: Token c·ªßa bot discord c·ªßa b·∫°n.
    *   `DATABASE_URL`: Chu·ªói k·∫øt n·ªëi ƒë·∫øn PostgreSQL c·ªßa b·∫°n (v√≠ d·ª•: `postgresql://user:password@host:port/database`).
    *   `ADMIN_USER_ID`: ID ng∆∞·ªùi d√πng Discord c·ªßa ch·ªß s·ªü h·ªØu bot (quan tr·ªçng cho quy·ªÅn `is_owner()`).
    *   `PROXY_BOT_ID` (T√πy ch·ªçn): ID c·ªßa bot proxy (v√≠ d·ª•: Mizuki) n·∫øu b·∫°n mu·ªën Shiromi nh·∫≠n l·ªánh t·ª´ bot ƒë√≥.
    *   `BOT_NAME`: T√™n bot s·∫Ω hi·ªÉn th·ªã trong m·ªôt s·ªë tin nh·∫Øn.
    *   `COMMAND_PREFIX`: Ti·ªÅn t·ªë l·ªánh (v√≠ d·ª•: `Shi`).
    *   `EXCLUDED_CATEGORY_IDS` (T√πy ch·ªçn): Danh s√°ch ID category c·∫ßn lo·∫°i tr·ª´ kh·ªèi qu√©t, c√°ch nhau b·ªüi d·∫•u ph·∫©y.
    *   `FINAL_STICKER_ID`, `INTERMEDIATE_STICKER_ID`, `LEAST_STICKER_ID`, `MOST_STICKER_ID` (T√πy ch·ªçn): ID c√°c sticker s·∫Ω ƒë∆∞·ª£c g·ª≠i ·ªü c√°c giai ƒëo·∫°n kh√°c nhau c·ªßa b√°o c√°o.
    *   `WEBSITE_BASE_URL` (T√πy ch·ªçn): URL g·ªëc c·ªßa trang web hi·ªÉn th·ªã d·ªØ li·ªáu qu√©t (n·∫øu c√≥).
    *   `REPORT_CHANNEL_ID` (T√πy ch·ªçn): ID k√™nh Discord ƒë·ªÉ g·ª≠i b√°o c√°o embeds c√¥ng khai. N·∫øu kh√¥ng ƒë·∫∑t, s·∫Ω g·ª≠i v√†o k√™nh g·ªëc n∆°i l·ªánh ƒë∆∞·ª£c g·ªçi.
    *   `FINAL_DM_EMOJI` (T√πy ch·ªçn): Emoji g·ª≠i cu·ªëi m·ªói DM c√° nh√¢n.
    *   `TRACKED_ROLE_GRANT_IDS` (T√πy ch·ªçn): ID c√°c role c·∫ßn theo d√µi l∆∞·ª£t c·∫•p qua Audit Log.
    *   `DM_REPORT_RECIPIENT_ROLE_ID` (T√πy ch·ªçn): ID c·ªßa role m√† th√†nh vi√™n c√≥ role n√†y s·∫Ω nh·∫≠n DM b√°o c√°o.
    *   `BOOSTER_THANKYOU_ROLE_IDS` (T√πy ch·ªçn): ID c√°c role (booster, ƒë√≥ng g√≥p) ƒë·ªÉ g·ª≠i l·ªùi c·∫£m ∆°n ƒë·∫∑c bi·ªát v√† ·∫£nh c√° nh√¢n h√≥a trong DM.
    *   `ADMIN_ROLE_IDS_FILTER` (T√πy ch·ªçn): ID c√°c role admin kh√°c (ngo√†i quy·ªÅn Administrator c·ªßa server) c·∫ßn l·ªçc kh·ªèi m·ªôt s·ªë BXH.
    *   `REACTION_UNICODE_EXCEPTIONS` (T√πy ch·ªçn): Danh s√°ch emoji Unicode ƒë∆∞·ª£c ph√©p xu·∫•t hi·ªán trong BXH reaction (ngo√†i emoji c·ªßa server).
    *   `ENABLE_REACTION_SCAN` (T√πy ch·ªçn): ƒê·∫∑t l√† `true` ƒë·ªÉ b·∫≠t qu√©t reaction (c√≥ th·ªÉ l√†m ch·∫≠m qu√° tr√¨nh qu√©t).
    *   `MAX_CONCURRENT_CHANNEL_SCANS` (T√πy ch·ªçn): S·ªë k√™nh/lu·ªìng qu√©t ƒë·ªìng th·ªùi t·ªëi ƒëa (m·∫∑c ƒë·ªãnh l√† 5).

3.  **C·∫•u h√¨nh ·∫£nh c√° nh√¢n h√≥a cho DM (T√πy ch·ªçn):**
    *   Ch·ªânh s·ª≠a file `quy_toc_anh.json`.
    *   Th√™m c√°c c·∫∑p `"USER_ID": "IMAGE_URL"` cho nh·ªØng ng∆∞·ªùi d√πng c√≥ `BOOSTER_THANKYOU_ROLE_IDS` m√† b·∫°n mu·ªën h·ªç nh·∫≠n ·∫£nh ri√™ng trong DM.

## Ch·∫°y Bot

Sau khi c√†i ƒë·∫∑t v√† c·∫•u h√¨nh:
```bash
python bot.py
```
Bot s·∫Ω k·∫øt n·ªëi t·ªõi Discord v√† s·∫µn s√†ng nh·∫≠n l·ªánh.

## S·ª≠ d·ª•ng L·ªánh

C√°c l·ªánh ch√≠nh ƒë∆∞·ª£c g·ªçi qua ti·ªÅn t·ªë ƒë√£ c·∫•u h√¨nh (v√≠ d·ª•: `Shi`).

*   **Ch·∫ø ƒë·ªô Test (G·ª≠i DM cho Admin):**
    *   `[prefix]romi [export_csv=True/False] [export_json=True/False] [keywords=t·ª´ kh√≥a1,t·ª´ kh√≥a2]`
    *   V√≠ d·ª•: `Shi romi export_csv=True keywords=ch√†o,t·∫°m bi·ªát`
    *   M·∫∑c ƒë·ªãnh: `export_csv=False`, `export_json=False`, kh√¥ng t√¨m keywords.
    *   B√°o c√°o DM c√° nh√¢n s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn `ADMIN_USER_ID` ƒë√£ c·∫•u h√¨nh.
*   **Ch·∫ø ƒë·ªô B√¨nh Th∆∞·ªùng (G·ª≠i DM cho Role C·∫•u H√¨nh):**
    *   `[prefix]Shiromi [export_csv=True/False] [export_json=True/False] [keywords=t·ª´ kh√≥a1,t·ª´ kh√≥a2]`
    *   V√≠ d·ª•: `Shi Shiromi export_json=True`
    *   B√°o c√°o DM c√° nh√¢n s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn nh·ªØng ng∆∞·ªùi d√πng c√≥ `DM_REPORT_RECIPIENT_ROLE_ID`.
*   **Ki·ªÉm tra Bot:**
    *   `[prefix]ping_shiromi`
    *   Ki·ªÉm tra xem bot c√≥ ph·∫£n h·ªìi kh√¥ng v√† hi·ªÉn th·ªã ƒë·ªô tr·ªÖ.

**L∆∞u √Ω v·ªÅ PROXY_BOT_ID:**
N·∫øu `PROXY_BOT_ID` ƒë∆∞·ª£c c·∫•u h√¨nh, bot ƒë√≥ c√≥ th·ªÉ g·ªçi l·ªánh c·ªßa Shiromi b·∫±ng c√°ch g·ª≠i tin nh·∫Øn b·∫Øt ƒë·∫ßu tr·ª±c ti·∫øp b·∫±ng t√™n l·ªánh (kh√¥ng c·∫ßn ti·ªÅn t·ªë `COMMAND_PREFIX` c·ªßa Shiromi). V√≠ d·ª•, n·∫øu bot proxy g·ª≠i `romi export_csv=True`, Shiromi s·∫Ω hi·ªÉu v√† th·ª±c thi.

## C·∫•u tr√∫c th∆∞ m·ª•c

```
Shiromi/
‚îú‚îÄ‚îÄ .git/
‚îú‚îÄ‚îÄ __pycache__/
‚îú‚îÄ‚îÄ bot_core/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ events.py
‚îÇ   ‚îú‚îÄ‚îÄ setup.py
‚îú‚îÄ‚îÄ cogs/
‚îÇ   ‚îú‚îÄ‚îÄ deep_scan_helpers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_processing.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dm_sender.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ export_generation.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finalization.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init_scan.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ report_generation.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scan_channels.py
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ deep_scan_cog.py
‚îú‚îÄ‚îÄ moitruongao/ (M√¥i tr∆∞·ªùng ·∫£o Python, vd: venv)
‚îú‚îÄ‚îÄ reporting/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ csv_writer.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_analysis.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_dm.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_guild.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_items.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_user.py
‚îÇ   ‚îú‚îÄ‚îÄ json_writer.py
‚îú‚îÄ‚îÄ .env                    # ƒê·∫∑t .env ·ªü ƒë√¢y, bi·∫øn m√¥i tr∆∞·ªùng (QUAN TR·ªåNG, B√ç M·∫¨T)
‚îú‚îÄ‚îÄ .env_example.md         # File v√≠ d·ª• cho .env
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ bot.py                  # File ch·∫°y bot ch√≠nh
‚îú‚îÄ‚îÄ config.py               # T·∫£i v√† qu·∫£n l√Ω c·∫•u h√¨nh
‚îú‚îÄ‚îÄ database.py             # T∆∞∆°ng t√°c v·ªõi c∆° s·ªü d·ªØ li·ªáu PostgreSQL
‚îú‚îÄ‚îÄ discord_logging.py      # G·ª≠i log l√™n thread Discord
‚îú‚îÄ‚îÄ quy_toc_anh.json        # Mapping ·∫£nh c√° nh√¢n cho DM
‚îú‚îÄ‚îÄ README.md               # File b·∫°n ƒëang ƒë·ªçc
‚îú‚îÄ‚îÄ requirements.txt        # Danh s√°ch th∆∞ vi·ªán Python
‚îú‚îÄ‚îÄ scanner.py              # (Tr·ªëng - c√≥ th·ªÉ d√†nh cho ch·ª©c nƒÉng t∆∞∆°ng lai)
‚îî‚îÄ‚îÄ utils.py                # C√°c h√†m ti·ªán √≠ch chung
```

## L∆∞u √Ω Quan tr·ªçng

*   **Quy·ªÅn Bot:** Shiromi c·∫ßn nhi·ªÅu quy·ªÅn Discord ƒë·ªÉ ho·∫°t ƒë·ªông ƒë·∫ßy ƒë·ªß (bao g·ªìm c√°c Privileged Intents nh∆∞ Guild Members, Message Content, v√† c√°c quy·ªÅn server nh∆∞ View Audit Log, Manage Server, Read Message History, Create Public Threads, Embed Links, Attach Files). ƒê·∫£m b·∫£o bot c√≥ ƒë·ªß quy·ªÅn tr√™n Developer Portal v√† trong server.
*   **C∆° s·ªü d·ªØ li·ªáu:** K·∫øt n·ªëi v√† thi·∫øt l·∫≠p b·∫£ng PostgreSQL l√† b·∫Øt bu·ªôc. Bot s·∫Ω kh√¥ng ho·∫°t ƒë·ªông n·∫øu kh√¥ng c√≥ database.
*   **T√†i nguy√™n:** Qu√° tr√¨nh qu√©t s√¢u c√≥ th·ªÉ t·ªën th·ªùi gian v√† t√†i nguy√™n (CPU, RAM, API rate limit c·ªßa Discord), ƒë·∫∑c bi·ªát tr√™n c√°c server l·ªõn ho·∫∑c khi b·∫≠t qu√©t reaction.
*   **API Rate Limits:** Bot c·ªë g·∫Øng x·ª≠ l√Ω rate limit c·ªßa Discord, nh∆∞ng v·ªõi c√°c server c·ª±c l·ªõn, vi·ªác qu√©t c√≥ th·ªÉ b·ªã gi√°n ƒëo·∫°n.
*   **B·∫£o m·∫≠t PROXY_BOT_ID:** N·∫øu s·ª≠ d·ª•ng, ƒë·∫£m b·∫£o r·∫±ng ch·ªâ bot proxy ƒë√°ng tin c·∫≠y m·ªõi c√≥ ID ƒë√≥, v√¨ n√≥ c√≥ th·ªÉ th·ª±c thi c√°c l·ªánh m·∫°nh m·∫Ω c·ªßa Shiromi.

</details>

<!-- English -->
<details>
<summary>üá¨üáß English</summary>

## Introduction

**Shiromi** is a powerful Discord bot designed to perform in-depth scans and analysis of a Discord server's activity data. It collects detailed information about messages, member activity, emoji/sticker usage, roles, channels, threads, and much more. The analysis results are presented as visually appealing embed reports in Discord, CSV/JSON export files, and personalized DM reports for members.

Additionally, Shiromi can store scan data in a PostgreSQL database, enabling data retrieval and display through a web interface (if integrated).

**Main functionalities:**

*   **Comprehensive Scanning:** Collects data from all text channels, voice channels (chat), and threads (including archived threads if permissions allow).
*   **Activity Analysis:** Counts messages, links, images, emojis, stickers, mentions, replies, and (filtered) reactions for each member and the entire server.
*   **Auxiliary Statistics:** Fetches information on boosters, voice/stage channels, invites, webhooks, integrations, oldest members, and analyzes audit logs (e.g., tracking role grants, thread creations).
*   **Diverse Reporting:**
    *   **Discord Embeds:** Displays leaderboards and statistics directly in a designated Discord channel.
    *   **File Exports:** Generates detailed CSV and JSON files for various data categories. (Working on it)
    *   **Personalized DMs:** Sends summary reports of individual activity and achievements to members (based on configured roles or to an admin in test mode).
*   **Database Storage:** Saves scan results and user data to PostgreSQL for potential web-based access.
*   **Detailed Logging:** Logs the scanning process to a separate Discord thread for easy monitoring.
*   **Highly Configurable:** Many customization options via the `.env` file (e.g., exclude categories, track specific roles, sticker/emoji IDs, report channel).
*   **Proxy Bot Support:** Can function as a worker bot, receiving commands from a main proxy bot (e.g., Mizuki).

## Features

*   **Server Analysis:**
    *   General server information (owner, creation date, boost level, counts of channels/roles/emojis/stickers).
    *   Scan summary (processed channels/threads, total messages, total filtered reactions, scan duration).
    *   Activity leaderboards for text and voice (chat) channels.
    *   Server and channel/thread "Golden Hours" (most active) and "Umbra Hours" (least active).
    *   Top most/least used server emojis/stickers.
    *   Unused server emojis.
*   **Member Analysis:**
    *   Leaderboards for most/least active users (messages, links, images, server emojis, stickers, mentions sent/received, replies, reactions sent/received, distinct channels active in, activity span).
    *   Top inviters leaderboard (by invite uses).
    *   "Most Enduring" booster leaderboard.
    *   Oldest members leaderboard.
    *   Most/least thread creators leaderboard.
    *   Tracking and ranking of grants for special roles (from Audit Log).
*   **Keyword Search:**
    *   Search for specific keywords in messages.
    *   Statistics on total occurrences, top channels/threads, and top users by keyword.
*   **Data Export:**
    *   Detailed CSV files for server info, channels/threads, user activity, roles, boosters, invites, webhooks, integrations, audit logs, and leaderboards.
    *   Comprehensive JSON file of all scanned data.
*   **Personalized DM Reports:**
    *   Summary of personal activity (messages, content sent, interactions, activity time, scope of activity).
    *   Top personal items (emojis, stickers).
    *   Personal "Golden Hour."
    *   Achievements and server ranking positions.
    *   Personalized thank-you messages and images for special roles (boosters, contributors).
*   **Technical:**
    *   Uses `asyncio` and `asyncpg` for efficient asynchronous operations and database interaction.
    *   Detailed logging to console (using `rich`) and a Discord thread.
    *   Flexible Discord intents configuration.
    *   Error handling and command cooldowns.
    *   Supports `PROXY_BOT_ID` for receiving commands from another bot.

## Prerequisites

1.  **Python:** Version 3.8 or higher.
2.  **Git:** To clone the source code.
3.  **PostgreSQL Server:** A running and accessible PostgreSQL instance.
4.  (Optional) Another Discord bot to act as `PROXY_BOT_ID` if you wish to use this feature.

## Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/Rin1809/Shiromi
    cd Shiromi
    ```

2.  **Create a virtual environment (recommended):**
    ```bash
    python -m venv venv
    # Windows
    venv\Scripts\activate
    # Linux/macOS
    source venv/bin/activate
    ```

3.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

## Configuration

1.  **Copy `.env_example.md` to `.env`:**
    ```bash
    # Windows
    copy .env_example.md .env
    # Linux/macOS
    cp .env_example.md .env
    ```

2.  **Edit the `.env` file with your information:**
    *   `DISCORD_TOKEN`: Your discord bot's token.
    *   `DATABASE_URL`: Connection string for your PostgreSQL (e.g., `postgresql://user:password@host:port/database`).
    *   `ADMIN_USER_ID`: Your Discord user ID (important for `is_owner()` permissions).
    *   `PROXY_BOT_ID` (Optional): ID of the proxy bot (e.g., Mizuki) if you want Shiromi to accept commands from it.
    *   `BOT_NAME`: Bot's name to be displayed in some messages.
    *   `COMMAND_PREFIX`: Command prefix (e.g., `Shi`).
    *   `EXCLUDED_CATEGORY_IDS` (Optional): Comma-separated list of category IDs to exclude from scans.
    *   `FINAL_STICKER_ID`, `INTERMEDIATE_STICKER_ID`, `LEAST_STICKER_ID`, `MOST_STICKER_ID` (Optional): IDs of stickers to be sent at different reporting stages.
    *   `WEBSITE_BASE_URL` (Optional): Base URL of the website displaying scan data (if any).
    *   `REPORT_CHANNEL_ID` (Optional): Discord channel ID to send public embed reports. If not set, reports are sent to the channel where the command was invoked.
    *   `FINAL_DM_EMOJI` (Optional): Emoji sent at the end of each personalized DM.
    *   `TRACKED_ROLE_GRANT_IDS` (Optional): Role IDs to track grants for via Audit Log.
    *   `DM_REPORT_RECIPIENT_ROLE_ID` (Optional): ID of the role whose members will receive DM reports.
    *   `BOOSTER_THANKYOU_ROLE_IDS` (Optional): Role IDs (boosters, contributors) to send special thank-you messages and personalized images in DMs.
    *   `ADMIN_ROLE_IDS_FILTER` (Optional): Other admin role IDs (besides server Administrator permission) to filter from some leaderboards.
    *   `REACTION_UNICODE_EXCEPTIONS` (Optional): List of Unicode emojis allowed in reaction leaderboards (besides server emojis).
    *   `ENABLE_REACTION_SCAN` (Optional): Set to `true` to enable reaction scanning (can slow down scans).
    *   `MAX_CONCURRENT_CHANNEL_SCANS` (Optional): Maximum number of channels/threads to scan concurrently (default is 5).

3.  **Configure personalized DM images (Optional):**
    *   Edit the `quy_toc_anh.json` file.
    *   Add `"USER_ID": "IMAGE_URL"` pairs for users with `BOOSTER_THANKYOU_ROLE_IDS` whom you want to receive custom images in their DMs.

## Running the Bot

After installation and configuration:
```bash
python bot.py
```
The bot will connect to Discord and be ready to receive commands.

## Using Commands

Main commands are invoked using the configured prefix (e.g., `Shi`).

*   **Test Mode (Sends DMs to Admin):**
    *   `[prefix]romi [export_csv=True/False] [export_json=True/False] [keywords=keyword1,keyword2]`
    *   Example: `Shi romi export_csv=True keywords=hello,goodbye`
    *   Defaults: `export_csv=False`, `export_json=False`, no keywords.
    *   Personalized DM reports will be sent to the configured `ADMIN_USER_ID`.
*   **Normal Mode (Sends DMs to Configured Role):**
    *   `[prefix]Shiromi [export_csv=True/False] [export_json=True/False] [keywords=keyword1,keyword2]`
    *   Example: `Shi Shiromi export_json=True`
    *   Personalized DM reports will be sent to users with the `DM_REPORT_RECIPIENT_ROLE_ID`.
*   **Bot Check:**
    *   `[prefix]ping_shiromi`
    *   Checks if the bot is responsive and shows latency.

**Note on PROXY_BOT_ID:**
If `PROXY_BOT_ID` is configured, that bot can invoke Shiromi's commands by sending a message starting directly with the command name (no need for Shiromi's `COMMAND_PREFIX`). For example, if the proxy bot sends `romi export_csv=True`, Shiromi will understand and execute it.

## Folder Structure

```
Shiromi/
‚îú‚îÄ‚îÄ .git/
‚îú‚îÄ‚îÄ __pycache__/
‚îú‚îÄ‚îÄ bot_core/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ events.py
‚îÇ   ‚îú‚îÄ‚îÄ setup.py
‚îú‚îÄ‚îÄ cogs/
‚îÇ   ‚îú‚îÄ‚îÄ deep_scan_helpers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_processing.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dm_sender.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ export_generation.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finalization.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init_scan.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ report_generation.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scan_channels.py
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ deep_scan_cog.py
‚îú‚îÄ‚îÄ moitruongao/ (Python virtual environment, e.g., venv)
‚îú‚îÄ‚îÄ reporting/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ csv_writer.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_analysis.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_dm.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_guild.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_items.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_user.py
‚îÇ   ‚îú‚îÄ‚îÄ json_writer.py
‚îú‚îÄ‚îÄ .env                    # set it here, Environment variables (IMPORTANT, SECRET)
‚îú‚îÄ‚îÄ .env_example.md         # Example file for .env
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ bot.py                  # Main bot execution file
‚îú‚îÄ‚îÄ config.py               # Loads and manages configuration
‚îú‚îÄ‚îÄ database.py             # Interacts with PostgreSQL database
‚îú‚îÄ‚îÄ discord_logging.py      # Sends logs to a Discord thread
‚îú‚îÄ‚îÄ quy_toc_anh.json        # Mapping for personalized DM images
‚îú‚îÄ‚îÄ README.md               # This file
‚îú‚îÄ‚îÄ requirements.txt        # Python library dependencies
‚îú‚îÄ‚îÄ scanner.py              # (Empty - possibly for future features)
‚îî‚îÄ‚îÄ utils.py                # General utility functions
```

## Important Notes

*   **Bot Permissions:** Shiromi requires extensive Discord permissions to function fully (including Privileged Intents like Guild Members, Message Content, and server permissions such as View Audit Log, Manage Server, Read Message History, Create Public Threads, Embed Links, Attach Files). Ensure the bot has sufficient permissions on the Developer Portal and within the server.
*   **Database:** PostgreSQL connection and table setup are mandatory. The bot will not operate without a database.
*   **Resources:** Deep scans can be time-consuming and resource-intensive (CPU, RAM, Discord API rate limits), especially on large servers or when reaction scanning is enabled.
*   **API Rate Limits:** The bot attempts to handle Discord's rate limits, but scans on extremely large servers might still be interrupted.
*   **PROXY_BOT_ID Security:** If used, ensure that only the trusted proxy bot has that ID, as it can execute Shiromi's powerful commands.

</details>

<!-- Japanese -->
<details>
<summary>üáØüáµ Êó•Êú¨Ë™û</summary>

## Ê¶ÇË¶Å

**Shiromi („Ç∑„É≠„Éü)** „ÅØ„ÄÅDiscord„Çµ„Éº„Éê„Éº„ÅÆÊ¥ªÂãï„Éá„Éº„Çø„ÇíË©≥Á¥∞„Å´„Çπ„Ç≠„É£„É≥„Åä„Çà„Å≥ÂàÜÊûê„Åô„Çã„Åü„ÇÅ„Å´Ë®≠Ë®à„Åï„Çå„ÅüÂº∑Âäõ„Å™Discord„Éú„ÉÉ„Éà„Åß„Åô„ÄÇ„É°„ÉÉ„Çª„Éº„Ç∏„ÄÅ„É°„É≥„Éê„Éº„ÅÆÊ¥ªÂãï„ÄÅÁµµÊñáÂ≠ó/„Çπ„Çø„É≥„Éó„ÅÆ‰ΩøÁî®Áä∂Ê≥Å„ÄÅ„É≠„Éº„É´„ÄÅ„ÉÅ„É£„É≥„Éç„É´„ÄÅ„Çπ„É¨„ÉÉ„Éâ„Å™„Å©„Å´Èñ¢„Åô„ÇãË©≥Á¥∞ÊÉÖÂ†±„ÇíÂèéÈõÜ„Åó„Åæ„Åô„ÄÇÂàÜÊûêÁµêÊûú„ÅØ„ÄÅDiscordÂÜÖ„ÅÆË¶ñË¶öÁöÑ„Å´È≠ÖÂäõÁöÑ„Å™Âüã„ÇÅËæº„Åø„É¨„Éù„Éº„Éà„ÄÅCSV/JSON„Ç®„ÇØ„Çπ„Éù„Éº„Éà„Éï„Ç°„Ç§„É´„ÄÅ„Åä„Çà„Å≥„É°„É≥„Éê„ÉºÂêë„Åë„ÅÆ„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„Åï„Çå„ÅüDM„É¨„Éù„Éº„Éà„Å®„Åó„Å¶Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ

„Åï„Çâ„Å´„ÄÅShiromi„ÅØ„Çπ„Ç≠„É£„É≥„Éá„Éº„Çø„ÇíPostgreSQL„Éá„Éº„Çø„Éô„Éº„Çπ„Å´‰øùÂ≠ò„Åß„Åç„ÄÅWeb„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÔºàÁµ±Âêà„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥ÂêàÔºâ„Çí‰ªã„Åó„Åü„Éá„Éº„ÇøÊ§úÁ¥¢„Å®Ë°®Á§∫„ÇíÂèØËÉΩ„Å´„Åó„Åæ„Åô„ÄÇ

**‰∏ª„Å™Ê©üËÉΩ:**

*   **ÂåÖÊã¨ÁöÑ„Çπ„Ç≠„É£„É≥:** „Åô„Åπ„Å¶„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÉÅ„É£„É≥„Éç„É´„ÄÅ„Éú„Ç§„Çπ„ÉÅ„É£„É≥„Éç„É´Ôºà„ÉÅ„É£„ÉÉ„ÉàÔºâ„ÄÅ„Çπ„É¨„ÉÉ„ÉâÔºàÊ®©Èôê„Åå„ÅÇ„Çå„Å∞„Ç¢„Éº„Ç´„Ç§„ÉñÊ∏à„Åø„Çπ„É¨„ÉÉ„Éâ„ÇÇÂê´„ÇÄÔºâ„Åã„Çâ„Éá„Éº„Çø„ÇíÂèéÈõÜ„Åó„Åæ„Åô„ÄÇ
*   **Ê¥ªÂãïÂàÜÊûê:** ÂêÑ„É°„É≥„Éê„Éº„Åä„Çà„Å≥„Çµ„Éº„Éê„ÉºÂÖ®‰Ωì„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÄÅ„É™„É≥„ÇØ„ÄÅÁîªÂÉè„ÄÅÁµµÊñáÂ≠ó„ÄÅ„Çπ„Çø„É≥„Éó„ÄÅ„É°„É≥„Ç∑„Éß„É≥„ÄÅËøî‰ø°„ÄÅ„Åä„Çà„Å≥Ôºà„Éï„Ç£„É´„Çø„É™„É≥„Ç∞„Åï„Çå„ÅüÔºâ„É™„Ç¢„ÇØ„Ç∑„Éß„É≥„Çí„Ç´„Ç¶„É≥„Éà„Åó„Åæ„Åô„ÄÇ
*   **Ë£úÂä©Áµ±Ë®à:** „Éñ„Éº„Çπ„Çø„Éº„ÄÅ„Éú„Ç§„Çπ/„Çπ„ÉÜ„Éº„Ç∏„ÉÅ„É£„É≥„Éç„É´„ÄÅÊãõÂæÖ„ÄÅWebhook„ÄÅÈÄ£Êê∫„ÄÅÊúÄÂè§ÂèÇ„É°„É≥„Éê„Éº„Å´Èñ¢„Åô„ÇãÊÉÖÂ†±„ÇíÂèñÂæó„Åó„ÄÅÁõ£Êüª„É≠„Ç∞„ÇíÂàÜÊûê„Åó„Åæ„ÅôÔºà‰æã: „É≠„Éº„É´‰ªò‰∏é„ÄÅ„Çπ„É¨„ÉÉ„Éâ‰ΩúÊàê„ÅÆËøΩË∑°Ôºâ„ÄÇ
*   **Â§öÊßò„Å™„É¨„Éù„Éº„Éà:**
    *   **DiscordÂüã„ÇÅËæº„Åø:** ÊåáÂÆö„Åï„Çå„ÅüDiscord„ÉÅ„É£„É≥„Éç„É´„Å´„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„Å®Áµ±Ë®à„ÇíÁõ¥Êé•Ë°®Á§∫„Åó„Åæ„Åô„ÄÇ
    *   **„Éï„Ç°„Ç§„É´„Ç®„ÇØ„Çπ„Éù„Éº„Éà:** Êßò„ÄÖ„Å™„Éá„Éº„Çø„Ç´„ÉÜ„Ç¥„É™„Å´ÂØæÂøú„Åó„ÅüË©≥Á¥∞„Å™CSV„Åä„Çà„Å≥JSON„Éï„Ç°„Ç§„É´„ÇíÁîüÊàê„Åó„Åæ„Åô„ÄÇÔºà„Åæ„Å†„Åß„ÅôÔºâ
    *   **„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫DM:** ÂÄã‰∫∫„ÅÆÊ¥ªÂãï„Å®ÂÆüÁ∏æ„ÅÆÊ¶ÇË¶Å„É¨„Éù„Éº„Éà„Çí„É°„É≥„Éê„Éº„Å´ÈÄÅ‰ø°„Åó„Åæ„ÅôÔºàË®≠ÂÆö„Åï„Çå„Åü„É≠„Éº„É´„Å´Âü∫„Å•„ÅÑ„Å¶„ÄÅ„Åæ„Åü„ÅØ„ÉÜ„Çπ„Éà„É¢„Éº„Éâ„Åß„ÅØÁÆ°ÁêÜËÄÖ„Å´Ôºâ„ÄÇ
*   **„Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠ò:** „Çπ„Ç≠„É£„É≥ÁµêÊûú„Å®„É¶„Éº„Ç∂„Éº„Éá„Éº„Çø„ÇíPostgreSQL„Å´‰øùÂ≠ò„Åó„ÄÅWebÁµåÁî±„Åß„ÅÆ„Ç¢„ÇØ„Çª„Çπ„ÇíÂèØËÉΩ„Å´„Åó„Åæ„Åô„ÄÇ
*   **Ë©≥Á¥∞„É≠„ÇÆ„É≥„Ç∞:** „Çπ„Ç≠„É£„É≥„Éó„É≠„Çª„Çπ„ÇíÂà•„ÅÆDiscord„Çπ„É¨„ÉÉ„Éâ„Å´Ë®òÈå≤„Åó„ÄÅÁõ£Ë¶ñ„ÇíÂÆπÊòì„Å´„Åó„Åæ„Åô„ÄÇ
*   **È´òÂ∫¶„Å™Ë®≠ÂÆöÂèØËÉΩÊÄß:** `.env`„Éï„Ç°„Ç§„É´„ÇíÈÄö„Åò„Å¶Â§ö„Åè„ÅÆ„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Ç™„Éó„Ç∑„Éß„É≥„ÇíÊèê‰æõ„Åó„Åæ„ÅôÔºà‰æã: „Ç´„ÉÜ„Ç¥„É™Èô§Â§ñ„ÄÅÁâπÂÆö„É≠„Éº„É´„ÅÆËøΩË∑°„ÄÅ„Çπ„Çø„É≥„Éó/ÁµµÊñáÂ≠óID„ÄÅ„É¨„Éù„Éº„Éà„ÉÅ„É£„É≥„Éç„É´Ôºâ„ÄÇ
*   **„Éó„É≠„Ç≠„Ç∑„Éú„ÉÉ„ÉàÂØæÂøú:** „É°„Ç§„É≥„ÅÆ„Éó„É≠„Ç≠„Ç∑„Éú„ÉÉ„ÉàÔºà‰æã: MizukiÔºâ„Åã„Çâ„Ç≥„Éû„É≥„Éâ„ÇíÂèó‰ø°„Åô„Çã„ÉØ„Éº„Ç´„Éº„Éú„ÉÉ„Éà„Å®„Åó„Å¶Ê©üËÉΩ„Åß„Åç„Åæ„Åô„ÄÇ

## Ê©üËÉΩ

*   **„Çµ„Éº„Éê„ÉºÂàÜÊûê:**
    *   ‰∏ÄËà¨„Çµ„Éº„Éê„ÉºÊÉÖÂ†±Ôºà„Ç™„Éº„Éä„Éº„ÄÅ‰ΩúÊàêÊó•„ÄÅ„Éñ„Éº„Çπ„Éà„É¨„Éô„É´„ÄÅ„ÉÅ„É£„É≥„Éç„É´/„É≠„Éº„É´/ÁµµÊñáÂ≠ó/„Çπ„Çø„É≥„Éó„ÅÆÊï∞Ôºâ„ÄÇ
    *   „Çπ„Ç≠„É£„É≥Ê¶ÇË¶ÅÔºàÂá¶ÁêÜÊ∏à„Åø„ÉÅ„É£„É≥„Éç„É´/„Çπ„É¨„ÉÉ„ÉâÊï∞„ÄÅÁ∑è„É°„ÉÉ„Çª„Éº„Ç∏Êï∞„ÄÅÁ∑è„Éï„Ç£„É´„Çø„É™„É≥„Ç∞Ê∏à„Åø„É™„Ç¢„ÇØ„Ç∑„Éß„É≥Êï∞„ÄÅ„Çπ„Ç≠„É£„É≥ÊôÇÈñìÔºâ„ÄÇ
    *   „ÉÜ„Ç≠„Çπ„Éà„Åä„Çà„Å≥„Éú„Ç§„ÇπÔºà„ÉÅ„É£„ÉÉ„ÉàÔºâ„ÉÅ„É£„É≥„Éç„É´„ÅÆÊ¥ªÂãï„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„ÄÇ
    *   „Çµ„Éº„Éê„Éº„Åä„Çà„Å≥„ÉÅ„É£„É≥„Éç„É´/„Çπ„É¨„ÉÉ„Éâ„ÅÆ„Äå„Ç¥„Éº„É´„Éá„É≥„Ç¢„ÉØ„Éº„ÄçÔºàÊúÄ„ÇÇÊ¥ªÁô∫Ôºâ„Åä„Çà„Å≥„Äå„Ç¢„É≥„Éñ„É©„Ç¢„ÉØ„Éº„ÄçÔºàÊúÄ„ÇÇÈñëÊï£Ôºâ„ÄÇ
    *   „Çµ„Éº„Éê„Éº„ÅßÊúÄ„ÇÇ/ÊúÄ„ÇÇÂ∞ë„Å™„Åè‰ΩøÁî®„Åï„Çå„ÅüÁµµÊñáÂ≠ó/„Çπ„Çø„É≥„Éó„ÄÇ
    *   Êú™‰ΩøÁî®„ÅÆ„Çµ„Éº„Éê„ÉºÁµµÊñáÂ≠ó„ÄÇ
*   **„É°„É≥„Éê„ÉºÂàÜÊûê:**
    *   ÊúÄ„ÇÇ/ÊúÄ„ÇÇÊ¥ªÂãï„ÅÆÂ∞ë„Å™„ÅÑ„É¶„Éº„Ç∂„Éº„ÅÆ„É™„Éº„ÉÄ„Éº„Éú„Éº„ÉâÔºà„É°„ÉÉ„Çª„Éº„Ç∏„ÄÅ„É™„É≥„ÇØ„ÄÅÁîªÂÉè„ÄÅ„Çµ„Éº„Éê„ÉºÁµµÊñáÂ≠ó„ÄÅ„Çπ„Çø„É≥„Éó„ÄÅÈÄÅÂèó‰ø°„É°„É≥„Ç∑„Éß„É≥„ÄÅËøî‰ø°„ÄÅÈÄÅÂèó‰ø°„É™„Ç¢„ÇØ„Ç∑„Éß„É≥„ÄÅÊ¥ªÂãï„ÉÅ„É£„É≥„Éç„É´Êï∞„ÄÅÊ¥ªÂãïÊúüÈñìÔºâ„ÄÇ
    *   ÊúÄÂ§öÊãõÂæÖËÄÖ„É™„Éº„ÉÄ„Éº„Éú„Éº„ÉâÔºàÊãõÂæÖ‰ΩøÁî®Êï∞„Å´„Çà„ÇãÔºâ„ÄÇ
    *   „ÄåÊúÄ„ÇÇÈï∑„Åè„Éñ„Éº„Çπ„Éà„Åó„Å¶„ÅÑ„Çã„Äç„Éñ„Éº„Çπ„Çø„Éº„ÅÆ„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„ÄÇ
    *   ÊúÄÂè§ÂèÇ„É°„É≥„Éê„Éº„ÅÆ„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„ÄÇ
    *   ÊúÄÂ§ö/ÊúÄÂ∞ë„Çπ„É¨„ÉÉ„Éâ‰ΩúÊàêËÄÖ„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„ÄÇ
    *   ÁâπÂà•„É≠„Éº„É´„ÅÆ‰ªò‰∏éËøΩË∑°„Å®„É©„É≥„Ç≠„É≥„Ç∞ÔºàÁõ£Êüª„É≠„Ç∞„Åã„ÇâÔºâ„ÄÇ
*   **„Ç≠„Éº„ÉØ„Éº„ÉâÊ§úÁ¥¢:**
    *   „É°„ÉÉ„Çª„Éº„Ç∏ÂÜÖ„ÅÆÁâπÂÆö„ÅÆ„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÊ§úÁ¥¢„ÄÇ
    *   „Ç≠„Éº„ÉØ„Éº„Éâ„Åî„Å®„ÅÆÁ∑èÂá∫ÁèæÂõûÊï∞„ÄÅ„Éà„ÉÉ„Éó„ÉÅ„É£„É≥„Éç„É´/„Çπ„É¨„ÉÉ„Éâ„ÄÅ„Éà„ÉÉ„Éó„É¶„Éº„Ç∂„Éº„ÅÆÁµ±Ë®à„ÄÇ
*   **„Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà:**
    *   „Çµ„Éº„Éê„ÉºÊÉÖÂ†±„ÄÅ„ÉÅ„É£„É≥„Éç„É´/„Çπ„É¨„ÉÉ„Éâ„ÄÅ„É¶„Éº„Ç∂„ÉºÊ¥ªÂãï„ÄÅ„É≠„Éº„É´„ÄÅ„Éñ„Éº„Çπ„Çø„Éº„ÄÅÊãõÂæÖ„ÄÅWebhook„ÄÅÈÄ£Êê∫„ÄÅÁõ£Êüª„É≠„Ç∞„ÄÅ„Åä„Çà„Å≥„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„ÅÆË©≥Á¥∞„Å™CSV„Éï„Ç°„Ç§„É´„ÄÇ
    *   ÂÖ®„Çπ„Ç≠„É£„É≥„Éá„Éº„Çø„ÅÆÂåÖÊã¨ÁöÑ„Å™JSON„Éï„Ç°„Ç§„É´„ÄÇ
*   **„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫DM„É¨„Éù„Éº„Éà:**
    *   ÂÄã‰∫∫„ÅÆÊ¥ªÂãïÊ¶ÇË¶ÅÔºà„É°„ÉÉ„Çª„Éº„Ç∏„ÄÅÈÄÅ‰ø°„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÄÅ„Ç§„É≥„Çø„É©„ÇØ„Ç∑„Éß„É≥„ÄÅÊ¥ªÂãïÊôÇÈñì„ÄÅÊ¥ªÂãïÁØÑÂõ≤Ôºâ„ÄÇ
    *   ÂÄã‰∫∫„ÅÆ„Éà„ÉÉ„Éó„Ç¢„Ç§„ÉÜ„É†ÔºàÁµµÊñáÂ≠ó„ÄÅ„Çπ„Çø„É≥„ÉóÔºâ„ÄÇ
    *   ÂÄã‰∫∫„ÅÆ„Äå„Ç¥„Éº„É´„Éá„É≥„Ç¢„ÉØ„Éº„Äç„ÄÇ
    *   „Çµ„Éº„Éê„Éº„É©„É≥„Ç≠„É≥„Ç∞„Å´„Åä„Åë„ÇãÂÆüÁ∏æ„Å®È†Ü‰Ωç„ÄÇ
    *   ÁâπÂà•„É≠„Éº„É´Ôºà„Éñ„Éº„Çπ„Çø„Éº„ÄÅË≤¢ÁåÆËÄÖÔºâ„Å∏„ÅÆ„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„Åï„Çå„ÅüÊÑüË¨ù„É°„ÉÉ„Çª„Éº„Ç∏„Å®ÁîªÂÉè„ÄÇ
*   **ÊäÄË°ì‰ªïÊßò:**
    *   ÂäπÁéáÁöÑ„Å™ÈùûÂêåÊúüÊìç‰Ωú„Å®„Éá„Éº„Çø„Éô„Éº„ÇπÂØæË©±„ÅÆ„Åü„ÇÅ„Å´`asyncio`„Å®`asyncpg`„Çí‰ΩøÁî®„ÄÇ
    *   „Ç≥„É≥„ÇΩ„Éº„É´Ôºà`rich`„Çí‰ΩøÁî®Ôºâ„Åä„Çà„Å≥Discord„Çπ„É¨„ÉÉ„Éâ„Å∏„ÅÆË©≥Á¥∞„É≠„ÇÆ„É≥„Ç∞„ÄÇ
    *   ÊüîËªü„Å™Discord„Ç§„É≥„ÉÜ„É≥„ÉàË®≠ÂÆö„ÄÇ
    *   „Ç®„É©„ÉºÂá¶ÁêÜ„Å®„Ç≥„Éû„É≥„Éâ„ÇØ„Éº„É´„ÉÄ„Ç¶„É≥„ÄÇ
    *   Âà•„ÅÆ„Éú„ÉÉ„Éà„Åã„Çâ„Ç≥„Éû„É≥„Éâ„ÇíÂèó‰ø°„Åô„Çã„Åü„ÇÅ„ÅÆ`PROXY_BOT_ID`„Çí„Çµ„Éù„Éº„Éà„ÄÇ

## ÂâçÊèêÊù°‰ª∂

1.  **Python:** „Éê„Éº„Ç∏„Éß„É≥3.8‰ª•‰∏ä„ÄÇ
2.  **Git:** „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅÆ„ÇØ„É≠„Éº„É≥Áî®„ÄÇ
3.  **PostgreSQL„Çµ„Éº„Éê„Éº:** ÂÆüË°å‰∏≠„Åß„Ç¢„ÇØ„Çª„ÇπÂèØËÉΩ„Å™PostgreSQL„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÄÇ
4.  (‰ªªÊÑè) „Åì„ÅÆÊ©üËÉΩ„Çí‰ΩøÁî®„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ`PROXY_BOT_ID`„Å®„Åó„Å¶Ê©üËÉΩ„Åô„ÇãÂà•„ÅÆDiscord„Éú„ÉÉ„Éà„ÄÇ

## „Ç§„É≥„Çπ„Éà„Éº„É´

1.  **„É™„Éù„Ç∏„Éà„É™„ÅÆ„ÇØ„É≠„Éº„É≥:**
    ```bash
    git clone https://github.com/Rin1809/Shiromi
    cd Shiromi
    ```

2.  **‰ªÆÊÉ≥Áí∞Â¢É„ÅÆ‰ΩúÊàê (Êé®Â•®):**
    ```bash
    python -m venv venv
    # Windows
    venv\Scripts\activate
    # Linux/macOS
    source venv/bin/activate
    ```

3.  **‰æùÂ≠òÈñ¢‰øÇ„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´:**
    ```bash
    pip install -r requirements.txt
    ```

## Ë®≠ÂÆö

1.  **`.env_example.md` „Çí `.env` „Å´„Ç≥„Éî„Éº:**
    ```bash
    # Windows
    copy .env_example.md .env
    # Linux/macOS
    cp .env_example.md .env
    ```

2.  **`.env` „Éï„Ç°„Ç§„É´„ÇíÁ∑®ÈõÜ„Åó„Å¶ÊÉÖÂ†±„ÇíÂÖ•Âäõ:**
    *   `DISCORD_TOKEN`: „ÅÇ„Å™„Åü„ÅÆDiscord„Éú„ÉÉ„Éà„ÅÆ„Éà„Éº„ÇØ„É≥„ÄÇ
    *   `DATABASE_URL`: PostgreSQL„Å∏„ÅÆÊé•Á∂öÊñáÂ≠óÂàó (‰æã: `postgresql://user:password@host:port/database`)„ÄÇ
    *   `ADMIN_USER_ID`: „Éú„ÉÉ„ÉàÊâÄÊúâËÄÖ„ÅÆDiscord„É¶„Éº„Ç∂„ÉºID (`is_owner()`Ê®©Èôê„Å´ÈáçË¶Å)„ÄÇ
    *   `PROXY_BOT_ID` (‰ªªÊÑè): Shiromi„Åå„Ç≥„Éû„É≥„Éâ„ÇíÂèó„Åë‰ªò„Åë„Çã„Éó„É≠„Ç≠„Ç∑„Éú„ÉÉ„Éà„ÅÆID (‰æã: Mizuki)„ÄÇ
    *   `BOT_NAME`: ‰∏ÄÈÉ®„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÅßË°®Á§∫„Åï„Çå„Çã„Éú„ÉÉ„ÉàÂêç„ÄÇ
    *   `COMMAND_PREFIX`: „Ç≥„Éû„É≥„Éâ„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„Çπ (‰æã: `Shi`)„ÄÇ
    *   `EXCLUDED_CATEGORY_IDS` (‰ªªÊÑè): „Çπ„Ç≠„É£„É≥„Åã„ÇâÈô§Â§ñ„Åô„Çã„Ç´„ÉÜ„Ç¥„É™ID„ÅÆ„Ç≥„É≥„ÉûÂå∫Âàá„Çä„É™„Çπ„Éà„ÄÇ
    *   `FINAL_STICKER_ID`, `INTERMEDIATE_STICKER_ID`, `LEAST_STICKER_ID`, `MOST_STICKER_ID` (‰ªªÊÑè): „É¨„Éù„Éº„Éà„ÅÆÊßò„ÄÖ„Å™ÊÆµÈöé„ÅßÈÄÅ‰ø°„Åï„Çå„Çã„Çπ„Çø„É≥„Éó„ÅÆID„ÄÇ
    *   `WEBSITE_BASE_URL` (‰ªªÊÑè): „Çπ„Ç≠„É£„É≥„Éá„Éº„Çø„ÇíË°®Á§∫„Åô„Çã„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„ÅÆ„Éô„Éº„ÇπURL („ÇÇ„Åó„ÅÇ„Çå„Å∞)„ÄÇ
    *   `REPORT_CHANNEL_ID` (‰ªªÊÑè): ÂÖ¨ÈñãÂüã„ÇÅËæº„Åø„É¨„Éù„Éº„Éà„ÇíÈÄÅ‰ø°„Åô„ÇãDiscord„ÉÅ„É£„É≥„Éç„É´ID„ÄÇË®≠ÂÆö„Åó„Å™„ÅÑÂ†¥Âêà„ÄÅ„Ç≥„Éû„É≥„Éâ„ÅåÂëº„Å≥Âá∫„Åï„Çå„ÅüÂÖÉ„ÅÆ„ÉÅ„É£„É≥„Éç„É´„Å´ÈÄÅ‰ø°„Åï„Çå„Åæ„Åô„ÄÇ
    *   `FINAL_DM_EMOJI` (‰ªªÊÑè): ÂêÑ„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫DM„ÅÆÊúÄÂæå„Å´ÈÄÅ‰ø°„Åï„Çå„ÇãÁµµÊñáÂ≠ó„ÄÇ
    *   `TRACKED_ROLE_GRANT_IDS` (‰ªªÊÑè): Áõ£Êüª„É≠„Ç∞ÁµåÁî±„Åß‰ªò‰∏é„ÇíËøΩË∑°„Åô„Çã„É≠„Éº„É´ID„ÄÇ
    *   `DM_REPORT_RECIPIENT_ROLE_ID` (‰ªªÊÑè): DM„É¨„Éù„Éº„Éà„ÇíÂèó‰ø°„Åô„Çã„É°„É≥„Éê„Éº„ÅåÊåÅ„Å§„É≠„Éº„É´„ÅÆID„ÄÇ
    *   `BOOSTER_THANKYOU_ROLE_IDS` (‰ªªÊÑè): DM„ÅßÁâπÂà•„Å™ÊÑüË¨ù„É°„ÉÉ„Çª„Éº„Ç∏„Å®„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫ÁîªÂÉè„ÇíÈÄÅ‰ø°„Åô„Çã„É≠„Éº„É´ID („Éñ„Éº„Çπ„Çø„Éº„ÄÅË≤¢ÁåÆËÄÖ)„ÄÇ
    *   `ADMIN_ROLE_IDS_FILTER` (‰ªªÊÑè): ‰∏ÄÈÉ®„ÅÆ„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„Åã„ÇâÈô§Â§ñ„Åô„Çã‰ªñ„ÅÆÁÆ°ÁêÜËÄÖ„É≠„Éº„É´ID („Çµ„Éº„Éê„Éº„ÅÆÁÆ°ÁêÜËÄÖÊ®©Èôê‰ª•Â§ñ)„ÄÇ
    *   `REACTION_UNICODE_EXCEPTIONS` (‰ªªÊÑè): „É™„Ç¢„ÇØ„Ç∑„Éß„É≥„É™„Éº„ÉÄ„Éº„Éú„Éº„Éâ„ÅßË®±ÂèØ„Åï„Çå„ÇãUnicodeÁµµÊñáÂ≠ó„ÅÆ„É™„Çπ„Éà („Çµ„Éº„Éê„ÉºÁµµÊñáÂ≠ó‰ª•Â§ñ)„ÄÇ
    *   `ENABLE_REACTION_SCAN` (‰ªªÊÑè): „É™„Ç¢„ÇØ„Ç∑„Éß„É≥„Çπ„Ç≠„É£„É≥„ÇíÊúâÂäπ„Å´„Åô„ÇãÂ†¥Âêà„ÅØ `true` „Å´Ë®≠ÂÆö („Çπ„Ç≠„É£„É≥„ÅåÈÅÖ„Åè„Å™„ÇãÂèØËÉΩÊÄß„ÅÇ„Çä)„ÄÇ
    *   `MAX_CONCURRENT_CHANNEL_SCANS` (‰ªªÊÑè): ÂêåÊôÇ„Å´„Çπ„Ç≠„É£„É≥„Åô„Çã„ÉÅ„É£„É≥„Éç„É´/„Çπ„É¨„ÉÉ„Éâ„ÅÆÊúÄÂ§ßÊï∞ („Éá„Éï„Ç©„É´„Éà„ÅØ5)„ÄÇ

3.  **„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫DMÁîªÂÉè„ÅÆÊßãÊàê (‰ªªÊÑè):**
    *   `quy_toc_anh.json` „Éï„Ç°„Ç§„É´„ÇíÁ∑®ÈõÜ„Åó„Åæ„Åô„ÄÇ
    *   `BOOSTER_THANKYOU_ROLE_IDS` „ÇíÊåÅ„Å°„ÄÅDM„Åß„Ç´„Çπ„Çø„É†ÁîªÂÉè„ÇíÂèó‰ø°„Åï„Åõ„Åü„ÅÑ„É¶„Éº„Ç∂„Éº„Å´ÂØæ„Åó„Å¶„ÄÅ`"USER_ID": "IMAGE_URL"` „ÅÆ„Éö„Ç¢„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ

## „Éú„ÉÉ„Éà„ÅÆÂÆüË°å

„Ç§„É≥„Çπ„Éà„Éº„É´„Å®Ë®≠ÂÆöÂæå:
```bash
python bot.py
```
„Éú„ÉÉ„Éà„ÅØDiscord„Å´Êé•Á∂ö„Åó„ÄÅ„Ç≥„Éû„É≥„Éâ„ÇíÂèó„Åë‰ªò„Åë„ÇãÊ∫ñÂÇô„Åå„Åß„Åç„Åæ„Åô„ÄÇ

## „Ç≥„Éû„É≥„Éâ„ÅÆ‰ΩøÁî®ÊñπÊ≥ï

‰∏ª„Å™„Ç≥„Éû„É≥„Éâ„ÅØ„ÄÅË®≠ÂÆö„Åï„Çå„Åü„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„Çπ (‰æã: `Shi`) „Çí‰ΩøÁî®„Åó„Å¶Âëº„Å≥Âá∫„Åó„Åæ„Åô„ÄÇ

*   **„ÉÜ„Çπ„Éà„É¢„Éº„Éâ (ÁÆ°ÁêÜËÄÖ„Å´DM„ÇíÈÄÅ‰ø°):**
    *   `[prefix]romi [export_csv=True/False] [export_json=True/False] [keywords=„Ç≠„Éº„ÉØ„Éº„Éâ1,„Ç≠„Éº„ÉØ„Éº„Éâ2]`
    *   ‰æã: `Shi romi export_csv=True keywords=„Åì„Çì„Å´„Å°„ÅØ,„Åï„Çà„ÅÜ„Å™„Çâ`
    *   „Éá„Éï„Ç©„É´„Éà: `export_csv=False`, `export_json=False`, „Ç≠„Éº„ÉØ„Éº„Éâ„Å™„Åó„ÄÇ
    *   „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫DM„É¨„Éù„Éº„Éà„ÅØ„ÄÅË®≠ÂÆö„Åï„Çå„Åü `ADMIN_USER_ID` „Å´ÈÄÅ‰ø°„Åï„Çå„Åæ„Åô„ÄÇ
*   **ÈÄöÂ∏∏„É¢„Éº„Éâ (Ë®≠ÂÆö„Åï„Çå„Åü„É≠„Éº„É´„Å´DM„ÇíÈÄÅ‰ø°):** Ôºà„Åæ„Å†Âà©Áî®„Åß„Åç„Å™„ÅÑ„Åß„ÅôÔºâ
    *   `[prefix]Shiromi [export_csv=True/False] [export_json=True/False] [keywords=„Ç≠„Éº„ÉØ„Éº„Éâ1,„Ç≠„Éº„ÉØ„Éº„Éâ2]`
    *   ‰æã: `Shi Shiromi export_json=True`
    *   „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫DM„É¨„Éù„Éº„Éà„ÅØ„ÄÅ`DM_REPORT_RECIPIENT_ROLE_ID` „ÇíÊåÅ„Å§„É¶„Éº„Ç∂„Éº„Å´ÈÄÅ‰ø°„Åï„Çå„Åæ„Åô„ÄÇ
*   **„Éú„ÉÉ„Éà„ÉÅ„Çß„ÉÉ„ÇØ:**
    *   `[prefix]ping_shiromi`
    *   „Éú„ÉÉ„Éà„ÅåÂøúÁ≠î„Åô„Çã„Åã„Å©„ÅÜ„Åã„ÇíÁ¢∫Ë™ç„Åó„ÄÅÈÅÖÂª∂„ÇíË°®Á§∫„Åó„Åæ„Åô„ÄÇ

**PROXY_BOT_ID„Å´Èñ¢„Åô„ÇãÊ≥®ÊÑè:**
`PROXY_BOT_ID` „ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÄÅ„Åù„ÅÆ„Éú„ÉÉ„Éà„ÅØShiromi„ÅÆ `COMMAND_PREFIX` „Å™„Åó„Åß„ÄÅ„Ç≥„Éû„É≥„ÉâÂêç„ÅßÂßã„Åæ„Çã„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÈÄÅ‰ø°„Åô„Çã„Åì„Å®„ÅßShiromi„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÂëº„Å≥Âá∫„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ‰æã„Åà„Å∞„ÄÅ„Éó„É≠„Ç≠„Ç∑„Éú„ÉÉ„Éà„Åå `romi export_csv=True` „Å®ÈÄÅ‰ø°„Åô„Çã„Å®„ÄÅShiromi„ÅØ„Åù„Çå„ÇíÁêÜËß£„Åó„Å¶ÂÆüË°å„Åó„Åæ„Åô„ÄÇ

## „Éï„Ç©„É´„ÉÄÊßãÈÄ†

```
Shiromi/
‚îú‚îÄ‚îÄ .git/
‚îú‚îÄ‚îÄ __pycache__/
‚îú‚îÄ‚îÄ bot_core/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ events.py
‚îÇ   ‚îú‚îÄ‚îÄ setup.py
‚îú‚îÄ‚îÄ cogs/
‚îÇ   ‚îú‚îÄ‚îÄ deep_scan_helpers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_processing.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dm_sender.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ export_generation.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finalization.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init_scan.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ report_generation.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scan_channels.py
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ deep_scan_cog.py
‚îú‚îÄ‚îÄ moitruongao/ (Python‰ªÆÊÉ≥Áí∞Â¢É„ÄÅ‰æã: venv)
‚îú‚îÄ‚îÄ reporting/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ csv_writer.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_analysis.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_dm.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_guild.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_items.py
‚îÇ   ‚îú‚îÄ‚îÄ embeds_user.py
‚îÇ   ‚îú‚îÄ‚îÄ json_writer.py
‚îú‚îÄ‚îÄ .env                    #„Åì„Åì„Å´„Åä„ÅÑ„Å¶‰∏ã„Åï„Åó Áí∞Â¢ÉÂ§âÊï∞ (ÈáçË¶Å„ÄÅÊ©üÂØÜ)asda
‚îú‚îÄ‚îÄ .env_example.md         # .env „ÅÆ„Çµ„É≥„Éó„É´„Éï„Ç°„Ç§„É´
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ bot.py                  # „É°„Ç§„É≥„Éú„ÉÉ„ÉàÂÆüË°å„Éï„Ç°„Ç§„É´dsd
‚îú‚îÄ‚îÄ config.py               # Ë®≠ÂÆö„ÅÆË™≠„ÅøËæº„Åø„Å®ÁÆ°ÁêÜ
‚îú‚îÄ‚îÄ database.py             # PostgreSQL„Éá„Éº„Çø„Éô„Éº„Çπ„Å®„ÅÆÂØæË©±
‚îú‚îÄ‚îÄ discord_logging.py      # Discord„Çπ„É¨„ÉÉ„Éâ„Å∏„ÅÆ„É≠„Ç∞ÈÄÅ‰ø°
‚îú‚îÄ‚îÄ quy_toc_anh.json        # „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫DMÁîªÂÉè„ÅÆÂØæÂøúË°®
‚îú‚îÄ‚îÄ README.md               # „Åì„ÅÆ„Éï„Ç°„Ç§„É´
‚îú‚îÄ‚îÄ requirements.txt        # Python„É©„Ç§„Éñ„É©„É™„ÅÆ‰æùÂ≠òÈñ¢‰øÇ
‚îú‚îÄ‚îÄ scanner.py              # (Á©∫ - Â∞ÜÊù•„ÅÆÊ©üËÉΩÁî®„Åã„ÇÇ)
‚îî‚îÄ‚îÄ utils.py                # ‰∏ÄËà¨ÁöÑ„Å™„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
```

## ÈáçË¶Å„Å™Ê≥®ÊÑèÁÇπ

*   **„Éú„ÉÉ„ÉàÊ®©Èôê:** Shiromi„ÅåÂÆåÂÖ®„Å´Ê©üËÉΩ„Åô„Çã„Å´„ÅØ„ÄÅÂ∫ÉÁØÑ„Å™DiscordÊ®©Èôê„ÅåÂøÖË¶Å„Åß„ÅôÔºàGuild Members„ÄÅMessage Content„Å™„Å©„ÅÆÁâπÊ®©„Ç§„É≥„ÉÜ„É≥„Éà„ÄÅ„Åä„Çà„Å≥View Audit Log„ÄÅManage Server„ÄÅRead Message History„ÄÅCreate Public Threads„ÄÅEmbed Links„ÄÅAttach Files„Å™„Å©„ÅÆ„Çµ„Éº„Éê„ÉºÊ®©Èôê„ÇíÂê´„ÇÄÔºâ„ÄÇDeveloper Portal„Åä„Çà„Å≥„Çµ„Éº„Éê„ÉºÂÜÖ„Åß„Éú„ÉÉ„Éà„ÅåÂçÅÂàÜ„Å™Ê®©Èôê„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
*   **„Éá„Éº„Çø„Éô„Éº„Çπ:** PostgreSQLÊé•Á∂ö„Å®„ÉÜ„Éº„Éñ„É´Ë®≠ÂÆö„ÅØÂøÖÈ†à„Åß„Åô„ÄÇ„Éá„Éº„Çø„Éô„Éº„Çπ„Å™„Åó„Åß„ÅØ„Éú„ÉÉ„Éà„ÅØÂãï‰Ωú„Åó„Åæ„Åõ„Çì„ÄÇ
*   **„É™„ÇΩ„Éº„Çπ:** Ë©≥Á¥∞„Çπ„Ç≠„É£„É≥„ÅØ„ÄÅÁâπ„Å´Â§ßË¶èÊ®°„Çµ„Éº„Éê„Éº„ÇÑ„É™„Ç¢„ÇØ„Ç∑„Éß„É≥„Çπ„Ç≠„É£„É≥„ÅåÊúâÂäπ„Å™Â†¥Âêà„ÄÅÊôÇÈñì„Å®„É™„ÇΩ„Éº„ÇπÔºàCPU„ÄÅRAM„ÄÅDiscord API„É¨„Éº„ÉàÂà∂ÈôêÔºâ„ÇíÊ∂àË≤ª„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
*   **API„É¨„Éº„ÉàÂà∂Èôê:** „Éú„ÉÉ„Éà„ÅØDiscord„ÅÆ„É¨„Éº„ÉàÂà∂Èôê„ÇíÂá¶ÁêÜ„Åó„Çà„ÅÜ„Å®„Åó„Åæ„Åô„Åå„ÄÅÈùûÂ∏∏„Å´Â§ßË¶èÊ®°„Å™„Çµ„Éº„Éê„Éº„Åß„ÅØ„Çπ„Ç≠„É£„É≥„Åå‰∏≠Êñ≠„Åï„Çå„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
*   **PROXY_BOT_ID„ÅÆ„Çª„Ç≠„É•„É™„ÉÜ„Ç£:** ‰ΩøÁî®„Åô„ÇãÂ†¥Âêà„ÄÅ‰ø°È†º„Åß„Åç„Çã„Éó„É≠„Ç≠„Ç∑„Éú„ÉÉ„Éà„ÅÆ„Åø„Åå„Åù„ÅÆID„ÇíÊåÅ„Å§„Çà„ÅÜ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇShiromi„ÅÆÂº∑Âäõ„Å™„Ç≥„Éû„É≥„Éâ„ÇíÂÆüË°å„Åß„Åç„Çã„Åü„ÇÅ„Åß„Åô„ÄÇ

</details>

## Image 1 (Server):

![image](https://github.com/user-attachments/assets/b402929b-5043-4991-999d-4b4daefd9991)

## Image 2 (Server):

![image](https://github.com/user-attachments/assets/1a150747-062b-491f-a363-bcc10f3af86d)

## Image 3 (DM:

![image](https://github.com/user-attachments/assets/e648e102-23ec-428f-a4f3-8bd193d17b8f)
![image](https://github.com/user-attachments/assets/f2661310-7422-41f2-ac02-ccdd787aa4ac)


